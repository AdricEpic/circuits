<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>What&#8217;s new in TurboGears 2 &mdash; circuits v1.0a1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.0a1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: ''
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/interface.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="contents" title="Global table of contents" href="../contents.html" />
    <link rel="index" title="Global index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="circuits v1.0a1 documentation" href="../index.html" />
    <link rel="next" title="circuits.core" href="API/core.html" />
    <link rel="prev" title="Quickstarting a TurboGears 2 project" href="QuickStart.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="API/core.html" title="circuits.core"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="QuickStart.html" title="Quickstarting a TurboGears 2 project"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">circuits v1.0a1 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="what-s-new-in-turbogears-2">
<h1 id="what-s-new-in-turbogears-2">What&#8217;s new in TurboGears 2<a class="headerlink" href="#what-s-new-in-turbogears-2" title="Permalink to this headline">¶</a></h1>
<p>The most significant change in TurboGears 2 is the decision to work very, very closely with Pylons.   We&#8217;ve basically built a copy of the TurboGears 1.x API on top of pylons/paste which allows our two communities to work together on everything from internationalization to database connection pooling.</p>
<p>Another significant change is that we&#8217;ve removed the tg-admin wrapper and started explicitly using paster for administrative commands to match what Pylons was doing.   We&#8217;ve re-implemented the old tg-admin commands as  paster commands; for example, &#8220;tg-admin quickstart&#8221; is replaced by &#8220;paster quickstart&#8221;.</p>
<div class="section" id="the-why-of-turbogears-2">
<h2 id="the-why-of-turbogears-2">The &#8220;why&#8221; of TurboGears 2<a class="headerlink" href="#the-why-of-turbogears-2" title="Permalink to this headline">¶</a></h2>
<p>Lots of questions have been asked about why we&#8217;ve decided to create TurboGears 2 the way we did,  so let&#8217;s try to answer them as best we can.</p>
<div class="section" id="why-so-many-changes">
<h3 id="why-so-many-changes">Why so many changes?<a class="headerlink" href="#why-so-many-changes" title="Permalink to this headline">¶</a></h3>
<p>Well, there are a lot of changes, but perhaps not as many as it looks like from the description.  We were able to keep the controller API very similar to TurboGears 1, and Genshi copied the Kid API, so while we chose new components, we didn&#8217;t really change the way Controllers and Templates look very much at all.  Sure, there are some minor changes here and there, but one member of the TurboGears 2 training class at PyCon said &#8220;I didn&#8217;t notice a lot that was new in terms of how you put a TurboGears application together.&#8221;</p>
</div>
<div class="section" id="why-not-just-merge-with-pylons">
<h3 id="why-not-just-merge-with-pylons">Why not just merge with Pylons?<a class="headerlink" href="#why-not-just-merge-with-pylons" title="Permalink to this headline">¶</a></h3>
<p>Well, pylons is committed to being officially template engine agnostic, ORM agnostic, etc.  On the other hand TurboGears is committed to providing a &#8220;Full-Stack&#8221; for web development.  So, the two communities have different, but compatible priorities.  If you think about it Pylons provides a great set of tools for building a full stack framework, and people had been asking for a full-stack pylons implementation for a long time.   And TurboGears 2 will provide that.</p>
<p>There are a lot of benefits to having a full-stack.  You can build form helpers which do all sorts of interesting things (introspect model objects to make web-based forms, automatically display form errors, etc) because you can make some assumptions about what tools will be available and what will be used.    In particular, you can start building plugable website components much more easily, because you are building on a known set of tools.</p>
</div>
<div class="section" id="why-not-use-cherrypy-3">
<h3 id="why-not-use-cherrypy-3">Why not use CherryPy 3?<a class="headerlink" href="#why-not-use-cherrypy-3" title="Permalink to this headline">¶</a></h3>
<p>This is something we really struggled with.  CherryPy 3 is a huge improvement over CherryPy 2, providing a much richer programming experience, and huge performance gains.  But TurboGears 1 was very tightly coupled to the config system of CherryPy 2, which was entirely rewritten in CherrPy 3.   We tried to make a backwards compatible TG based on CherryPy 3, but discovered that it was significantly more difficult than we had expected.</p>
<p>At the same time there was a push to make TurboGears 2 more WSGI based, and to take advantage of things like Routes middleware, and to generally take advantage of the Pylon WSGI revolution.   We discovered that Pylons had a lot of the same code as TurboGears (both of us had buffet implementations both of us had SQLObject wrappers that did the same thing, etc)</p>
</div>
<div class="section" id="why-genshi">
<h3 id="why-genshi">Why Genshi?<a class="headerlink" href="#why-genshi" title="Permalink to this headline">¶</a></h3>
<p>Well, Genshi is an intentional re-implementation of Kid, with a almost identical API.   But internally it&#8217;s simpler, faster, and provides better error messages.   The inclusion of a couple of new features &#8211; includes and full x-path support &#8211; also make it significantly more flexible.</p>
<p>Genshi has also developed a larger, more active community than Kid, and is being used in lots of places outside of TurboGears so, unlike Kid, it&#8217;s not at all likely to have to be taken over and maintained by the TG core developers.</p>
</div>
<div class="section" id="why-sqlalchemy">
<h3 id="why-sqlalchemy">Why SQLAlchemy?<a class="headerlink" href="#why-sqlalchemy" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="new-features-to-turbogears-2">
<h2 id="new-features-to-turbogears-2">New Features to TurboGears 2:<a class="headerlink" href="#new-features-to-turbogears-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>Cache system</li>
<li>Error report: interactive tracebacks through the web, custom error pages, and email alerts</li>
<li>API Document generator through epydoc</li>
<li>could pass status code to flash message</li>
<li>support crud interface generator</li>
</ul>
</blockquote>
</div>
<div class="section" id="compatibility">
<h2 id="compatibility">Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h2>
<p>Areas of compatibility:</p>
<blockquote>
<ul class="simple">
<li>Like TurboGears 1.1, TurboGears 2 supports python 2.4 and above.</li>
<li>TurboGears 1.x and TurboGears 2.x can both be installed in the same machine.
They are different packages with different namespaces.  Right now there are no dependency conflicts.  But using virtualenv to is highly recommended to eliminate the possibility of future dependency conflicts.</li>
<li>Object dispatch is implemented in TurboGears 2.x, so you can use arguments and keywords in function the same way you did in TurboGears 1.x.</li>
<li>Expose and error handling decorators are implemented in TurboGears 2.x,
you can use decorators just like TurboGears 1.x.</li>
</ul>
</blockquote>
<dl class="docutils">
<dt>Differences:</dt>
<dd><ul class="first last simple">
<li>CherryPy filters will not work in TurboGears 2.x.  You can write
middleware to do what filters did in CherryPy2</li>
<li>The &#64;expose decorator has a slightly updated syntax for content type declaration</li>
<li>All template engines now have search paths to find the templates.
The default template directory is on the search path so using dotted
notation in &#64;expose decorators has been deprecated.</li>
<li>Rather than raise a redirect error, you now call the redirect() function.</li>
<li>Object dispatch does not support dots in URL&#8217;s the way TurboGears 1 did.</li>
<li>CherryPy request and response objects replaces with WebOb request and response objects.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="command-changes">
<h2 id="command-changes">Command changes<a class="headerlink" href="#command-changes" title="Permalink to this headline">¶</a></h2>
<p>Use paster command instead of the old tg-admin command.</p>
<p>For exampel you now type <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">quickstart</span></tt> rather than <tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">quickstart</span></tt> to start a project.</p>
<p>Here&#8217;s a full list of the old command line tools and their new equivalents</p>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">quickstart</span></tt> &#8212;&gt; <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">quickstart</span></tt></li>
<li><tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">info</span></tt> &#8212;&gt; <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">tginfo</span></tt></li>
<li><tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">toolbox</span></tt> &#8211;&gt; <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">toolbox</span></tt></li>
<li><tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">shell</span></tt> &#8211;&gt; <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">shell</span></tt></li>
<li><tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">sql</span> <span class="pre">create</span></tt> &#8211;&gt; <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">setup-app</span> <span class="pre">development.ini</span></tt></li>
</ul>
</blockquote>
</div>
<div class="section" id="project-layout-changes">
<h2 id="project-layout-changes">Project layout changes<a class="headerlink" href="#project-layout-changes" title="Permalink to this headline">¶</a></h2>
<p>Both controllers.py and model.py have been replaced by the controllers and model folders.  In other words there are now Python packages, in just the way they were in TurboGears 1 if you used the &#8216;&#8211;template tgbig&#8217; option with quickstart.</p>
<blockquote>
<ul class="simple">
<li>your root controller is not in <tt class="docutils literal"><span class="pre">controllers.py</span></tt> -&gt; it has moved to <tt class="docutils literal"><span class="pre">controllers/root.py</span></tt></li>
<li><tt class="docutils literal"><span class="pre">model.py</span></tt> -&gt; <tt class="docutils literal"><span class="pre">model/__init__.py</span></tt></li>
<li><tt class="docutils literal"><span class="pre">myproject_dev.cfg</span></tt> -&gt; <tt class="docutils literal"><span class="pre">development.ini</span></tt> <strong>With a whole new structure based on paste.deploy</strong></li>
<li><tt class="docutils literal"><span class="pre">app.cfg</span></tt> &#8211;&gt;  <tt class="docutils literal"><span class="pre">config/environment.py</span></tt> and to a lesser extent <tt class="docutils literal"><span class="pre">config/middleware.py</span></tt></li>
</ul>
</blockquote>
</div>
<div class="section" id="new-imports">
<h2 id="new-imports">New imports<a class="headerlink" href="#new-imports" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>import turbogears -&gt; import tg</li>
<li>turbogears.config.get(&#8216;sqlalchemy.dburi&#8217;) -&gt; pylons.config[&#8216;sqlalchemy.url&#8217;]</li>
<li>pylons.tmpl_context provides a request local place to stick stuff</li>
<li>pylons.request  provides the rough equivelent of cherrypy.request</li>
<li>pylons.response provides the equivelent of cherrypy.response</li>
</ul>
</blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Table Of Contents</h3>
            <ul>
<li><a class="reference external" href="">What&#8217;s new in TurboGears 2</a><ul>
<li><a class="reference external" href="#the-why-of-turbogears-2">The &#8220;why&#8221; of TurboGears 2</a><ul>
<li><a class="reference external" href="#why-so-many-changes">Why so many changes?</a></li>
<li><a class="reference external" href="#why-not-just-merge-with-pylons">Why not just merge with Pylons?</a></li>
<li><a class="reference external" href="#why-not-use-cherrypy-3">Why not use CherryPy 3?</a></li>
<li><a class="reference external" href="#why-genshi">Why Genshi?</a></li>
<li><a class="reference external" href="#why-sqlalchemy">Why SQLAlchemy?</a></li>
</ul>
</li>
<li><a class="reference external" href="#new-features-to-turbogears-2">New Features to TurboGears 2:</a></li>
<li><a class="reference external" href="#compatibility">Compatibility</a></li>
<li><a class="reference external" href="#command-changes">Command changes</a></li>
<li><a class="reference external" href="#project-layout-changes">Project layout changes</a></li>
<li><a class="reference external" href="#new-imports">New imports</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="QuickStart.html" title="previous chapter">Quickstarting a TurboGears 2 project</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="API/core.html" title="next chapter">circuits.core</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/main/WhatsNew.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="API/core.html" title="circuits.core"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="QuickStart.html" title="Quickstarting a TurboGears 2 project"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">circuits v1.0a1 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, James Mills.
      Last updated on Nov 03, 2008.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>